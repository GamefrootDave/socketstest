!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=112)}([function(t,e,n){var i=n(28)("wks"),r=n(20),o=n(2).Symbol,s="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:r)("Symbol."+t))}).store=i},function(t,e,n){var i=n(2),r=n(13),o=n(10),s=n(9),a=n(17),c=function(t,e,n){var u,l,h,f,p=t&c.F,d=t&c.G,v=t&c.S,g=t&c.P,y=t&c.B,m=d?i:v?i[e]||(i[e]={}):(i[e]||{}).prototype,b=d?r:r[e]||(r[e]={}),_=b.prototype||(b.prototype={});for(u in d&&(n=e),n)h=((l=!p&&m&&void 0!==m[u])?m:n)[u],f=y&&l?a(h,i):g&&"function"==typeof h?a(Function.call,h):h,m&&s(m,u,h,t&c.U),b[u]!=h&&o(b,u,f),g&&_[u]!=h&&(_[u]=h)};i.core=r,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var i=n(7);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(8)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(1);i(i.S+i.F*!n(4),"Object",{defineProperty:n(6).f})},function(t,e,n){var i=n(3),r=n(47),o=n(26),s=Object.defineProperty;e.f=n(4)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var i=n(2),r=n(10),o=n(11),s=n(20)("src"),a=n(71),c=(""+a).split("toString");n(13).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var u="function"==typeof n;u&&(o(n,"name")||r(n,"name",e)),t[e]!==n&&(u&&(o(n,s)||r(n,s,t[e]?""+t[e]:c.join(String(e)))),t===i?t[e]=n:a?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[s]||a.call(this)})},function(t,e,n){var i=n(6),r=n(27);t.exports=n(4)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";var i=n(1),r=n(48)(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(s||!n(35)(o)),"Array",{indexOf:function(t){return s?o.apply(this,arguments)||0:r(this,t,arguments[1])}})},function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){for(var i=n(50),r=n(25),o=n(9),s=n(2),a=n(10),c=n(24),u=n(0),l=u("iterator"),h=u("toStringTag"),f=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=r(p),v=0;v<d.length;v++){var g,y=d[v],m=p[y],b=s[y],_=b&&b.prototype;if(_&&(_[l]||a(_,l,f),_[h]||a(_,h,y),c[y]=f,m))for(g in i)_[g]||o(_,g,i[g],!0)}},function(t,e,n){"use strict";var i=n(1),r=n(54)(0),o=n(35)([].forEach,!0);i(i.P+i.F*!o,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},function(t,e,n){var i=n(29);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var i=n(6).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||n(4)&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){var i=n(49),r=n(22);t.exports=function(t){return i(r(t))}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e){t.exports=!1},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var i=n(30),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e){t.exports={}},function(t,e,n){var i=n(52),r=n(37);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(7);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(13),r=n(2),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(21)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(3),r=n(51),o=n(37),s=n(36)("IE_PROTO"),a=function(){},c=function(){var t,e=n(34)("iframe"),i=o.length;for(e.style.display="none",n(53).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;i--;)delete c.prototype[o[i]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=i(t),n=new a,a.prototype=null,n[s]=t):n=c(),void 0===e?n:r(n,e)}},function(t,e,n){var i=n(6).f,r=n(11),o=n(0)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,n){var i=n(22);t.exports=function(t){return Object(i(t))}},function(t,e,n){var i=n(7),r=n(2).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){"use strict";var i=n(8);t.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){var i=n(28)("keys"),r=n(20);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var i=n(14);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){"use strict";var i=n(3);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var i=n(14),r=n(0)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:o?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){"use strict";var i,r,o=n(39),s=RegExp.prototype.exec,a=String.prototype.replace,c=s,u=(i=/a/,r=/b*/g,s.call(i,"a"),s.call(r,"a"),0!==i.lastIndex||0!==r.lastIndex),l=void 0!==/()??/.exec("")[1];(u||l)&&(c=function(t){var e,n,i,r,c=this;return l&&(n=new RegExp("^"+c.source+"$(?!\\s)",o.call(c))),u&&(e=c.lastIndex),i=s.call(c,t),u&&i&&(c.lastIndex=c.global?i.index+i[0].length:e),l&&i&&i.length>1&&a.call(i[0],n,function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)}),i}),t.exports=c},function(t,e,n){n(62)("asyncIterator")},function(t,e,n){"use strict";var i=n(2),r=n(11),o=n(4),s=n(1),a=n(9),c=n(84).KEY,u=n(8),l=n(28),h=n(32),f=n(20),p=n(0),d=n(63),v=n(62),g=n(85),y=n(38),m=n(3),b=n(7),_=n(19),x=n(26),w=n(27),k=n(31),E=n(86),C=n(46),S=n(6),P=n(25),T=C.f,O=S.f,j=E.f,A=i.Symbol,M=i.JSON,I=M&&M.stringify,N=p("_hidden"),L=p("toPrimitive"),F={}.propertyIsEnumerable,R=l("symbol-registry"),D=l("symbols"),U=l("op-symbols"),X=Object.prototype,Y="function"==typeof A,G=i.QObject,V=!G||!G.prototype||!G.prototype.findChild,B=o&&u(function(){return 7!=k(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=T(X,e);i&&delete X[e],O(t,e,n),i&&t!==X&&O(X,e,i)}:O,K=function(t){var e=D[t]=k(A.prototype);return e._k=t,e},W=Y&&"symbol"==typeof A.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof A},H=function(t,e,n){return t===X&&H(U,e,n),m(t),e=x(e,!0),m(n),r(D,e)?(n.enumerable?(r(t,N)&&t[N][e]&&(t[N][e]=!1),n=k(n,{enumerable:w(0,!1)})):(r(t,N)||O(t,N,w(1,{})),t[N][e]=!0),B(t,e,n)):O(t,e,n)},z=function(t,e){m(t);for(var n,i=g(e=_(e)),r=0,o=i.length;o>r;)H(t,n=i[r++],e[n]);return t},q=function(t){var e=F.call(this,t=x(t,!0));return!(this===X&&r(D,t)&&!r(U,t))&&(!(e||!r(this,t)||!r(D,t)||r(this,N)&&this[N][t])||e)},$=function(t,e){if(t=_(t),e=x(e,!0),t!==X||!r(D,e)||r(U,e)){var n=T(t,e);return!n||!r(D,e)||r(t,N)&&t[N][e]||(n.enumerable=!0),n}},J=function(t){for(var e,n=j(_(t)),i=[],o=0;n.length>o;)r(D,e=n[o++])||e==N||e==c||i.push(e);return i},Q=function(t){for(var e,n=t===X,i=j(n?U:_(t)),o=[],s=0;i.length>s;)!r(D,e=i[s++])||n&&!r(X,e)||o.push(D[e]);return o};Y||(a((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===X&&e.call(U,n),r(this,N)&&r(this[N],t)&&(this[N][t]=!1),B(this,t,w(1,n))};return o&&V&&B(X,t,{configurable:!0,set:e}),K(t)}).prototype,"toString",function(){return this._k}),C.f=$,S.f=H,n(45).f=E.f=J,n(44).f=q,n(64).f=Q,o&&!n(21)&&a(X,"propertyIsEnumerable",q,!0),d.f=function(t){return K(p(t))}),s(s.G+s.W+s.F*!Y,{Symbol:A});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)p(Z[tt++]);for(var et=P(p.store),nt=0;et.length>nt;)v(et[nt++]);s(s.S+s.F*!Y,"Symbol",{for:function(t){return r(R,t+="")?R[t]:R[t]=A(t)},keyFor:function(t){if(!W(t))throw TypeError(t+" is not a symbol!");for(var e in R)if(R[e]===t)return e},useSetter:function(){V=!0},useSimple:function(){V=!1}}),s(s.S+s.F*!Y,"Object",{create:function(t,e){return void 0===e?k(t):z(k(t),e)},defineProperty:H,defineProperties:z,getOwnPropertyDescriptor:$,getOwnPropertyNames:J,getOwnPropertySymbols:Q}),M&&s(s.S+s.F*(!Y||u(function(){var t=A();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(b(e)||void 0!==t)&&!W(t))return y(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!W(e))return e}),i[1]=e,I.apply(M,i)}}),A.prototype[L]||n(10)(A.prototype,L,A.prototype.valueOf),h(A,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var i=n(52),r=n(37).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){var i=n(44),r=n(27),o=n(19),s=n(26),a=n(11),c=n(47),u=Object.getOwnPropertyDescriptor;e.f=n(4)?u:function(t,e){if(t=o(t),e=s(e,!0),c)try{return u(t,e)}catch(t){}if(a(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e,n){t.exports=!n(4)&&!n(8)(function(){return 7!=Object.defineProperty(n(34)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(19),r=n(23),o=n(72);t.exports=function(t){return function(e,n,s){var a,c=i(e),u=r(c.length),l=o(s,u);if(t&&n!=n){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var i=n(14);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){"use strict";var i=n(73),r=n(74),o=n(24),s=n(19);t.exports=n(75)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){var i=n(6),r=n(3),o=n(25);t.exports=n(4)?Object.defineProperties:function(t,e){r(t);for(var n,s=o(e),a=s.length,c=0;a>c;)i.f(t,n=s[c++],e[n]);return t}},function(t,e,n){var i=n(11),r=n(19),o=n(48)(!1),s=n(36)("IE_PROTO");t.exports=function(t,e){var n,a=r(t),c=0,u=[];for(n in a)n!=s&&i(a,n)&&u.push(n);for(;e.length>c;)i(a,n=e[c++])&&(~o(u,n)||u.push(n));return u}},function(t,e,n){var i=n(2).document;t.exports=i&&i.documentElement},function(t,e,n){var i=n(17),r=n(49),o=n(33),s=n(23),a=n(78);t.exports=function(t,e){var n=1==t,c=2==t,u=3==t,l=4==t,h=6==t,f=5==t||h,p=e||a;return function(e,a,d){for(var v,g,y=o(e),m=r(y),b=i(a,d,3),_=s(m.length),x=0,w=n?p(e,_):c?p(e,0):void 0;_>x;x++)if((f||x in m)&&(g=b(v=m[x],x,y),t))if(n)w[x]=g;else if(g)switch(t){case 3:return!0;case 5:return v;case 6:return x;case 2:w.push(v)}else if(l)return!1;return h?-1:u||l?l:w}}},function(t,e,n){"use strict";n(81);var i=n(3),r=n(39),o=n(4),s=/./.toString,a=function(t){n(9)(RegExp.prototype,"toString",t,!0)};n(8)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?a(function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)}):"toString"!=s.name&&a(function(){return s.call(this)})},function(t,e,n){var i=Date.prototype,r=i.toString,o=i.getTime;new Date(NaN)+""!="Invalid Date"&&n(9)(i,"toString",function(){var t=o.call(this);return t==t?r.call(this):"Invalid Date"})},function(t,e,n){"use strict";var i=n(3),r=n(33),o=n(23),s=n(30),a=n(58),c=n(59),u=Math.max,l=Math.min,h=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;n(60)("replace",2,function(t,e,n,d){return[function(i,r){var o=t(this),s=null==i?void 0:i[e];return void 0!==s?s.call(i,o,r):n.call(String(o),i,r)},function(t,e){var r=d(n,t,this,e);if(r.done)return r.value;var h=i(t),f=String(this),p="function"==typeof e;p||(e=String(e));var g=h.global;if(g){var y=h.unicode;h.lastIndex=0}for(var m=[];;){var b=c(h,f);if(null===b)break;if(m.push(b),!g)break;""===String(b[0])&&(h.lastIndex=a(f,o(h.lastIndex),y))}for(var _,x="",w=0,k=0;k<m.length;k++){b=m[k];for(var E=String(b[0]),C=u(l(s(b.index),f.length),0),S=[],P=1;P<b.length;P++)S.push(void 0===(_=b[P])?_:String(_));var T=b.groups;if(p){var O=[E].concat(S,C,f);void 0!==T&&O.push(T);var j=String(e.apply(void 0,O))}else j=v(E,f,C,S,T,e);C>=w&&(x+=f.slice(w,C)+j,w=C+E.length)}return x+f.slice(w)}];function v(t,e,i,o,s,a){var c=i+t.length,u=o.length,l=p;return void 0!==s&&(s=r(s),l=f),n.call(a,l,function(n,r){var a;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(c);case"<":a=s[r.slice(1,-1)];break;default:var l=+r;if(0===l)return n;if(l>u){var f=h(l/10);return 0===f?n:f<=u?void 0===o[f-1]?r.charAt(1):o[f-1]+r.charAt(1):n}a=o[l-1]}return void 0===a?"":a})}})},function(t,e,n){"use strict";var i=n(82)(!0);t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},function(t,e,n){"use strict";var i=n(40),r=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},function(t,e,n){"use strict";n(83);var i=n(9),r=n(10),o=n(8),s=n(22),a=n(0),c=n(41),u=a("species"),l=!o(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),h=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var f=a(t),p=!o(function(){var e={};return e[f]=function(){return 7},7!=""[t](e)}),d=p?!o(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[u]=function(){return n}),n[f](""),!e}):void 0;if(!p||!d||"replace"===t&&!l||"split"===t&&!h){var v=/./[f],g=n(s,f,""[t],function(t,e,n,i,r){return e.exec===c?p&&!r?{done:!0,value:v.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),y=g[0],m=g[1];i(String.prototype,t,y),r(RegExp.prototype,f,2==e?function(t,e){return m.call(t,this,e)}:function(t){return m.call(t,this)})}}},function(t,e,n){"use strict";var i=n(1),r=n(54)(2);i(i.P+i.F*!n(35)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,e,n){var i=n(2),r=n(13),o=n(21),s=n(63),a=n(6).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e,n){e.f=n(0)},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(1);i(i.S,"Object",{create:n(31)})},function(t,e,n){var i=n(1);i(i.S,"Object",{setPrototypeOf:n(67).set})},function(t,e,n){var i=n(7),r=n(3),o=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=n(17)(Function.call,n(46).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){var i=n(3),r=n(29),o=n(0)("species");t.exports=function(t,e){var n,s=i(t).constructor;return void 0===s||null==(n=i(s)[o])?e:r(n)}},function(t,e,n){var i,r,o,s=n(17),a=n(101),c=n(53),u=n(34),l=n(2),h=l.process,f=l.setImmediate,p=l.clearImmediate,d=l.MessageChannel,v=l.Dispatch,g=0,y={},m=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},b=function(t){m.call(t.data)};f&&p||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return y[++g]=function(){a("function"==typeof t?t:Function(t),e)},i(g),g},p=function(t){delete y[t]},"process"==n(14)(h)?i=function(t){h.nextTick(s(m,t,1))}:v&&v.now?i=function(t){v.now(s(m,t,1))}:d?(o=(r=new d).port2,r.port1.onmessage=b,i=s(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(i=function(t){l.postMessage(t+"","*")},l.addEventListener("message",b,!1)):i="onreadystatechange"in u("script")?function(t){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),m.call(t)}}:function(t){setTimeout(s(m,t,1),0)}),t.exports={set:f,clear:p}},function(t,e,n){"use strict";var i=n(29);function r(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=i(e),this.reject=i(n)}t.exports.f=function(t){return new r(t)}},function(t,e,n){t.exports=n(28)("native-function-to-string",Function.toString)},function(t,e,n){var i=n(30),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},function(t,e,n){var i=n(0)("unscopables"),r=Array.prototype;null==r[i]&&n(10)(r,i,{}),t.exports=function(t){r[i][t]=!0}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var i=n(21),r=n(1),o=n(9),s=n(10),a=n(24),c=n(76),u=n(32),l=n(77),h=n(0)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,d,v,g,y){c(n,e,d);var m,b,_,x=function(t){if(!f&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},w=e+" Iterator",k="values"==v,E=!1,C=t.prototype,S=C[h]||C["@@iterator"]||v&&C[v],P=S||x(v),T=v?k?x("entries"):P:void 0,O="Array"==e&&C.entries||S;if(O&&(_=l(O.call(new t)))!==Object.prototype&&_.next&&(u(_,w,!0),i||"function"==typeof _[h]||s(_,h,p)),k&&S&&"values"!==S.name&&(E=!0,P=function(){return S.call(this)}),i&&!y||!f&&!E&&C[h]||s(C,h,P),a[e]=P,a[w]=p,v)if(m={values:k?P:x("values"),keys:g?P:x("keys"),entries:T},y)for(b in m)b in C||o(C,b,m[b]);else r(r.P+r.F*(f||E),e,m);return m}},function(t,e,n){"use strict";var i=n(31),r=n(27),o=n(32),s={};n(10)(s,n(0)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(s,{next:r(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var i=n(11),r=n(33),o=n(36)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){var i=n(79);t.exports=function(t,e){return new(i(t))(e)}},function(t,e,n){var i=n(7),r=n(38),o=n(0)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var i=n(1);i(i.S+i.F*!n(4),"Object",{defineProperties:n(51)})},function(t,e,n){n(4)&&"g"!=/./g.flags&&n(6).f(RegExp.prototype,"flags",{configurable:!0,get:n(39)})},function(t,e,n){var i=n(30),r=n(22);t.exports=function(t){return function(e,n){var o,s,a=String(r(e)),c=i(n),u=a.length;return c<0||c>=u?t?"":void 0:(o=a.charCodeAt(c))<55296||o>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?t?a.charAt(c):o:t?a.slice(c,c+2):s-56320+(o-55296<<10)+65536}}},function(t,e,n){"use strict";var i=n(41);n(1)({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},function(t,e,n){var i=n(20)("meta"),r=n(7),o=n(11),s=n(6).f,a=0,c=Object.isExtensible||function(){return!0},u=!n(8)(function(){return c(Object.preventExtensions({}))}),l=function(t){s(t,i,{value:{i:"O"+ ++a,w:{}}})},h=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!c(t))return"F";if(!e)return"E";l(t)}return t[i].i},getWeak:function(t,e){if(!o(t,i)){if(!c(t))return!0;if(!e)return!1;l(t)}return t[i].w},onFreeze:function(t){return u&&h.NEED&&c(t)&&!o(t,i)&&l(t),t}}},function(t,e,n){var i=n(25),r=n(64),o=n(44);t.exports=function(t){var e=i(t),n=r.f;if(n)for(var s,a=n(t),c=o.f,u=0;a.length>u;)c.call(t,s=a[u++])&&e.push(s);return e}},function(t,e,n){var i=n(19),r=n(45).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return s.slice()}}(t):r(i(t))}},function(t,e,n){var i=n(1),r=Math.abs;i(i.S,"Math",{hypot:function(t,e){for(var n,i,o=0,s=0,a=arguments.length,c=0;s<a;)c<(n=r(arguments[s++]))?(o=o*(i=c/n)*i+1,c=n):o+=n>0?(i=n/c)*i:n;return c===1/0?1/0:c*Math.sqrt(o)}})},function(t,e,n){"use strict";var i=n(2),r=n(11),o=n(14),s=n(89),a=n(26),c=n(8),u=n(45).f,l=n(46).f,h=n(6).f,f=n(90).trim,p=i.Number,d=p,v=p.prototype,g="Number"==o(n(31)(v)),y="trim"in String.prototype,m=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){var n,i,r,o=(e=y?e.trim():f(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var s,c=e.slice(2),u=0,l=c.length;u<l;u++)if((s=c.charCodeAt(u))<48||s>r)return NaN;return parseInt(c,i)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(g?c(function(){v.valueOf.call(n)}):"Number"!=o(n))?s(new d(m(e)),n,p):m(e)};for(var b,_=n(4)?u(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;_.length>x;x++)r(d,b=_[x])&&!r(p,b)&&h(p,b,l(d,b));p.prototype=v,v.constructor=p,n(9)(i,"Number",p)}},function(t,e,n){var i=n(7),r=n(67).set;t.exports=function(t,e,n){var o,s=e.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&i(o)&&r&&r(t,o),t}},function(t,e,n){var i=n(1),r=n(22),o=n(8),s=n(91),a="["+s+"]",c=RegExp("^"+a+a+"*"),u=RegExp(a+a+"*$"),l=function(t,e,n){var r={},a=o(function(){return!!s[t]()||"​"!="​"[t]()}),c=r[t]=a?e(h):s[t];n&&(r[n]=c),i(i.P+i.F*a,"String",r)},h=l.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=l},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var i=n(1);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){"use strict";var i=n(94),r=n(3),o=n(68),s=n(58),a=n(23),c=n(59),u=n(41),l=n(8),h=Math.min,f=[].push,p=!l(function(){RegExp(4294967295,"y")});n(60)("split",2,function(t,e,n,l){var d;return d="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!i(t))return n.call(r,t,e);for(var o,s,a,c=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,p=void 0===e?4294967295:e>>>0,d=new RegExp(t.source,l+"g");(o=u.call(d,r))&&!((s=d.lastIndex)>h&&(c.push(r.slice(h,o.index)),o.length>1&&o.index<r.length&&f.apply(c,o.slice(1)),a=o[0].length,h=s,c.length>=p));)d.lastIndex===o.index&&d.lastIndex++;return h===r.length?!a&&d.test("")||c.push(""):c.push(r.slice(h)),c.length>p?c.slice(0,p):c}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var r=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,r,i):d.call(String(r),n,i)},function(t,e){var i=l(d,t,this,e,d!==n);if(i.done)return i.value;var u=r(t),f=String(this),v=o(u,RegExp),g=u.unicode,y=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(p?"y":"g"),m=new v(p?u:"^(?:"+u.source+")",y),b=void 0===e?4294967295:e>>>0;if(0===b)return[];if(0===f.length)return null===c(m,f)?[f]:[];for(var _=0,x=0,w=[];x<f.length;){m.lastIndex=p?x:0;var k,E=c(m,p?f:f.slice(x));if(null===E||(k=h(a(m.lastIndex+(p?0:x)),f.length))===_)x=s(f,x,g);else{if(w.push(f.slice(_,x)),w.length===b)return w;for(var C=1;C<=E.length-1;C++)if(w.push(E[C]),w.length===b)return w;x=_=k}}return w.push(f.slice(_)),w}]})},function(t,e,n){var i=n(7),r=n(14),o=n(0)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},function(t,e,n){"use strict";var i,r,o,s,a=n(21),c=n(2),u=n(17),l=n(40),h=n(1),f=n(7),p=n(29),d=n(96),v=n(97),g=n(68),y=n(69).set,m=n(102)(),b=n(70),_=n(103),x=n(104),w=n(105),k=c.TypeError,E=c.process,C=E&&E.versions,S=C&&C.v8||"",P=c.Promise,T="process"==l(E),O=function(){},j=r=b.f,A=!!function(){try{var t=P.resolve(1),e=(t.constructor={})[n(0)("species")]=function(t){t(O,O)};return(T||"function"==typeof PromiseRejectionEvent)&&t.then(O)instanceof e&&0!==S.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(t){}}(),M=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},I=function(t,e){if(!t._n){t._n=!0;var n=t._c;m(function(){for(var i=t._v,r=1==t._s,o=0,s=function(e){var n,o,s,a=r?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{a?(r||(2==t._h&&F(t),t._h=1),!0===a?n=i:(l&&l.enter(),n=a(i),l&&(l.exit(),s=!0)),n===e.promise?u(k("Promise-chain cycle")):(o=M(n))?o.call(n,c,u):c(n)):u(i)}catch(t){l&&!s&&l.exit(),u(t)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&N(t)})}},N=function(t){y.call(c,function(){var e,n,i,r=t._v,o=L(t);if(o&&(e=_(function(){T?E.emit("unhandledRejection",r,t):(n=c.onunhandledrejection)?n({promise:t,reason:r}):(i=c.console)&&i.error&&i.error("Unhandled promise rejection",r)}),t._h=T||L(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},L=function(t){return 1!==t._h&&0===(t._a||t._c).length},F=function(t){y.call(c,function(){var e;T?E.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})})},R=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),I(e,!0))},D=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw k("Promise can't be resolved itself");(e=M(t))?m(function(){var i={_w:n,_d:!1};try{e.call(t,u(D,i,1),u(R,i,1))}catch(t){R.call(i,t)}}):(n._v=t,n._s=1,I(n,!1))}catch(t){R.call({_w:n,_d:!1},t)}}};A||(P=function(t){d(this,P,"Promise","_h"),p(t),i.call(this);try{t(u(D,this,1),u(R,this,1))}catch(t){R.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(106)(P.prototype,{then:function(t,e){var n=j(g(this,P));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=T?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i;this.promise=t,this.resolve=u(D,t,1),this.reject=u(R,t,1)},b.f=j=function(t){return t===P||t===s?new o(t):r(t)}),h(h.G+h.W+h.F*!A,{Promise:P}),n(32)(P,"Promise"),n(107)("Promise"),s=n(13).Promise,h(h.S+h.F*!A,"Promise",{reject:function(t){var e=j(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(a||!A),"Promise",{resolve:function(t){return w(a&&this===s?P:this,t)}}),h(h.S+h.F*!(A&&n(108)(function(t){P.all(t).catch(O)})),"Promise",{all:function(t){var e=this,n=j(e),i=n.resolve,r=n.reject,o=_(function(){var n=[],o=0,s=1;v(t,!1,function(t){var a=o++,c=!1;n.push(void 0),s++,e.resolve(t).then(function(t){c||(c=!0,n[a]=t,--s||i(n))},r)}),--s||i(n)});return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=j(e),i=n.reject,r=_(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var i=n(17),r=n(98),o=n(99),s=n(3),a=n(23),c=n(100),u={},l={};(e=t.exports=function(t,e,n,h,f){var p,d,v,g,y=f?function(){return t}:c(t),m=i(n,h,e?2:1),b=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(o(y)){for(p=a(t.length);p>b;b++)if((g=e?m(s(d=t[b])[0],d[1]):m(t[b]))===u||g===l)return g}else for(v=y.call(t);!(d=v.next()).done;)if((g=r(v,m,d.value,e))===u||g===l)return g}).BREAK=u,e.RETURN=l},function(t,e,n){var i=n(3);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},function(t,e,n){var i=n(24),r=n(0)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},function(t,e,n){var i=n(40),r=n(0)("iterator"),o=n(24);t.exports=n(13).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||o[i(t)]}},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(2),r=n(69).set,o=i.MutationObserver||i.WebKitMutationObserver,s=i.process,a=i.Promise,c="process"==n(14)(s);t.exports=function(){var t,e,n,u=function(){var i,r;for(c&&(i=s.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(c)n=function(){s.nextTick(u)};else if(!o||i.navigator&&i.navigator.standalone)if(a&&a.resolve){var l=a.resolve(void 0);n=function(){l.then(u)}}else n=function(){r.call(i,u)};else{var h=!0,f=document.createTextNode("");new o(u).observe(f,{characterData:!0}),n=function(){f.data=h=!h}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var i=n(2).navigator;t.exports=i&&i.userAgent||""},function(t,e,n){var i=n(3),r=n(7),o=n(70);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var i=n(9);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},function(t,e,n){"use strict";var i=n(2),r=n(6),o=n(4),s=n(0)("species");t.exports=function(t){var e=i[t];o&&e&&!e[s]&&r.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var i=n(0)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:n=!0}},o[i]=function(){return s},t(o)}catch(t){}return n}},function(t,e,n){var i=n(33),r=n(25);n(110)("keys",function(){return function(t){return r(i(t))}})},function(t,e,n){var i=n(1),r=n(13),o=n(8);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],s={};s[t]=e(n),i(i.S+i.F*o(function(){n(1)}),"Object",s)}},function(t,e,n){var i=n(1);i(i.S,"Array",{isArray:n(38)})},function(t,e,n){"use strict";n.r(e);n(5),n(18);function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=e||{},this.active=!1!==e.active,this.name=e.name||"Untitled Component",this.owner=e.owner,e.preUpdate&&(this.preUpdate=e.preUpdate),e.update&&(this.update=e.update),e.postUpdate&&(this.postUpdate=e.postUpdate)}var e,n,r;return e=t,(n=[{key:"preUpdate",value:function(t,e){}},{key:"update",value:function(t,e){}},{key:"postUpdate",value:function(t,e){}}])&&i(e.prototype,n),r&&i(e,r),t}();n(12),n(15),n(16);function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._components=[],this.owner=e}var e,n,i;return e=t,(n=[{key:"add",value:function(t){this.addAt(t,this._components.length)}},{key:"addAt",value:function(t,e){t.owner=this.owner,this._components.splice(e,0,t)}},{key:"create",value:function(t){var e=new r(t=t||{});return this.add(e),e}},{key:"getByName",value:function(t){var e=[];return this._components.forEach(function(n){n.name===t&&e.push(n)}),e}},{key:"remove",value:function(t){var e=this._components.indexOf(t);this.removeAt(e)}},{key:"removeAll",value:function(){for(var t=this._components.length-1;t>=0;t--)this.removeAt(t)}},{key:"removeAt",value:function(t){var e=this._components[t];e&&(e.destroy&&e.destroy(),e.manager=null,e.owner=null,this._components.splice(t,1))}},{key:"removeByName",value:function(t){for(var e=0,n=this._components.length-1;n>=0;n--){this._components[n].name===t&&(this.removeAt(n),e++)}return e}},{key:"preUpdate",value:function(t,e){this._components.forEach(function(n){n.active&&n.preUpdate(t,e)})}},{key:"update",value:function(t,e){this._components.forEach(function(n){n.active&&n.update(t,e)})}},{key:"postUpdate",value:function(t,e){this._components.forEach(function(n){n.active&&n.postUpdate(t,e)})}},{key:"components",get:function(){return this._components.slice()}},{key:"game",get:function(){return this.scene?this.scene.game:null}},{key:"scene",get:function(){return this.owner?this.owner instanceof Phaser.Scene?this.owner:this.owner.scene:null}}])&&o(e.prototype,n),i&&o(e,i),t}();n(80),n(55),n(56),n(57);function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._callbacks=[],this._properties=[]}var e,n,i;return e=t,(n=[{key:"clear",value:function(){this._callbacks=[],this._properties=[]}},{key:"get",value:function(t){return this._properties[t]}},{key:"has",value:function(t){return!!this.get(t)}},{key:"set",value:function(t,e){this._properties[t]=e,this._executeCallbacks(t,e)}},{key:"delete",value:function(t){delete this._properties[t],this._executeCallbacks(t,null)}},{key:"_executeCallbacks",value:function(t,e){this._callbacks.forEach(function(n){n.name&&n.name!==t||n.callback.call(n.context,t,e)})}},{key:"onUpdate",value:function(t,e,n){t?(n=n||null,this._callbacks.push({callback:t,context:e,name:n})):console.error("PropertySwitchboard: No callback was passed. Skipping.","#properties")}},{key:"removeOnUpdate",value:function(t,e,n){n=n||null;for(var i=this._callbacks.length-1;i>=0;i--){var r=this._callbacks[i];if(r.callback===t&&r.context===e&&r.name===n)return this._callbacks.splice(i,1),!0}return!1}}])&&a(e.prototype,n),i&&a(e,i),t}();function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._tags=[]}var e,n,i;return e=t,(n=[{key:"add",value:function(t){this.has(t)||this._tags.push(t)}},{key:"clear",value:function(){this._tags=[]}},{key:"has",value:function(t){return this._tags.indexOf(t)>-1}},{key:"remove",value:function(t){var e=this._tags.indexOf(t);e>-1&&this._tags.splice(e,1)}}])&&u(e.prototype,n),i&&u(e,i),t}(),h={_EVENTS:{ANIMATION_STOP:"animationstop",COLLIDE:"collide",CREATE:"create",LEVEL_START:"levelStart",LEVEL_SWITCH:"levelSwitch",PRE_UPDATE:"preUpdate",UPDATE:"update",POST_UPDATE:"postUpdate"},_fDestroySafe:function(){this.exists&&(this.exists=!1,this.setPhysics&&this.setPhysics(!1),this.physicsLayer&&this.physicsLayer.remove(this),this.properties instanceof c&&this.properties.clear())},_fGetHitboxFromBody:function(){var t=this.body,e=this.getWorldTransformMatrix(this._hitboxMatrix),n=e.scaleX,i=e.scaleY,r=t.offset;return this._hitbox.setTo(e.tx+n*(r.x-this.displayOriginX),e.ty+i*(r.y-this.displayOriginY),t.sourceWidth*n,t.sourceHeight*i),this._hitbox},_fGetHitboxFromMyself:function(){return this._hitbox.setTo(this.posX,this.posY,this.width,this.height),this._hitbox},_fLevelStart:function(){this.emit(this.EVENTS.LEVEL_START)},_fLevelSwitch:function(t){this.emit(this.EVENTS.LEVEL_SWITCH)},_fSetupPluginComponents:function(t){var e={arcadephysics:!0,TextureAnimation:!0,box:!0};for(var n in t)if(!(n in e))try{Phaserfroot.PluginManager.instantiate(n,this,t[n])}catch(t){this.scene.game.reportError("Syntax error in script ["+n+"].\n\nYou haven't done anything wrong. We must have made a mistake while putting the blocks together. You might be able to fix the problem by removing recently added blocks.\n\nThis is a Gamefroot bug - please let us know about it!")}},_fSetPhysics:function(t){this.body.enable=t},_fUpdateBounds:new Function(Phaser.Physics.Arcade.Body.prototype.updateBounds.toString().replace(/function[\s]*\(\)[\s]*\{/,"").slice(0,-1)+";if(this.transform.scaleX<0){this.transform.x-=this.width}if(this.transform.scaleY<0){this.transform.y-=this.height}"),setAnchor:function(t){t._anchorX=0,t._anchorY=0,t._bearing=t.angle,Object.defineProperties(t,{anchorX:{enumerable:!0,get:function(){return this._anchorX},set:function(t){0===this.width?this.originX=0:this.originX=t/this.width,this.x+=t-this._anchorX,this._anchorX=t,this.updateDisplayOrigin()}},anchorY:{enumerable:!0,get:function(){return this._anchorY},set:function(t){0===this.height?this.originY=0:this.originY=t/this.height,this.y+=t-this._anchorY,this._anchorY=t,this.updateDisplayOrigin()}},bearing:{enumerable:!0,get:function(){return this._bearing},set:function(t){this._bearing=t,this.angle=t}},posX:{enumerable:!0,get:function(){return this.x-this._anchorX},set:function(t){this.x=t+this._anchorX}},posY:{enumerable:!0,get:function(){return this.y-this._anchorY},set:function(t){this.y=t+this._anchorY}}})},setCommonFeatures:function(t){t.exists=!0,t.EVENTS=this._EVENTS,t.colliders=[],t.isTilemap||this.setPhysics(t),this.setAnchor(t),this.setFunctions(t),this.setGetHitbox(t),this.setManagers(t)},setFunctions:function(t){t.destroySafe=this._fDestroySafe,t.onLevelStart=this._fLevelStart,t.onLevelSwitch=this._fLevelSwitch,t.isTilemap||(t.setPhysics=this._fSetPhysics),t.setupPluginComponents=this._fSetupPluginComponents},setGetHitbox:function(t){t._hitbox=new Phaser.Geom.Rectangle,t._hitboxMatrix=new Phaser.GameObjects.Components.TransformMatrix,t.body?t.getHitbox=this._fGetHitboxFromBody:t.getHitbox=this._fGetHitboxFromMyself},setManagers:function(t){this.setManagerComponents(t),this.setManagerProperties(t),this.setManagerTags(t)},setManagerComponents:function(t){t.components=new s(t)},setManagerProperties:function(t){t.properties=new c},setManagerTags:function(t){t.tags=new l},setPhysics:function(t){var e=t.scene;e.physics.world.enableBody(t,Phaser.Physics.Arcade.DYNAMIC_BODY),t.body.allowGravity=!1,t.physicsLayer=void 0,e.physicsLayersManager.addToLayer(t,0),t.body.updateBounds=this._fUpdateBounds}};n(61),n(42),n(43),n(65),n(66);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=t||{}).name="SoundManager",(n=d(this,v(e).call(this,t)))._effects=[],n._music=null,n.muteEffects=!1,n.muteMusic=!1,n._volume=1,n.active=!1,n}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(e,r),n=e,(i=[{key:"playEffect",value:function(t){var e=this;if(this.owner.game.cache.audio.get(t)){var n=this.owner.sound.add(t,{mute:this.muteEffects});n&&(this._effects.push(n),n.once("complete",function(){e.stopEffect(n)}),n.play())}}},{key:"playMusic",value:function(t){this.stopMusic(),this._music=this.owner.sound.add(t,{loop:!0,mute:this.muteMusic}),this._music&&this._music.play()}},{key:"setMuteEffects",value:function(t){var e=this;this.muteEffects=!!t,this._effects.forEach(function(t){t.mute=e.muteEffects})}},{key:"setMuteMusic",value:function(t){this._music&&(this._music.mute=!!t),this.muteMusic=!!t}},{key:"setPauseMusic",value:function(t){this._music&&(t?this._music.pause():this._music.resume())}},{key:"stopAll",value:function(){var t=this;this.stopMusic(),this._effects.slice().forEach(function(e){t.stopEffect(e)})}},{key:"stopEffect",value:function(t){t.destroy();var e=this._effects.indexOf(t);e>-1&&this._effects.splice(e,1)}},{key:"stopMusic",value:function(){this._music&&(this._music.stop(),this._music.destroy(),this._music=null)}},{key:"volume",get:function(){return this._volume},set:function(t){isNaN(t)?console.error("Volume was not a number!"):(t=Math.max(0,t),this._volume=t,this.owner.sound.setVolume(this._volume))}}])&&p(n.prototype,i),o&&p(n,o),e}(),m=(n(87),n(88),n(92),function(t,e,n){return(e-t)*n+t}),b=new Phaser.Class({Extends:Phaser.Cameras.Scene2D.Camera,initialize:function(t,e,n,i){Phaser.Cameras.Scene2D.Camera.call(this,t,e,n,i),this._offset=new Phaser.Math.Vector2(0,0),this._scale=new Phaser.Math.Vector2(1,1),this.tracking=!1,this._trackTarget=new Phaser.Math.Vector2(0,0),this._trackSpeed=.1;var r=Number.MAX_SAFE_INTEGER;this.setBounds(-r/2,-r/2,r,r)},bounds:{get:function(){return this._bounds}},offsetX:{get:function(){return this._offset.x},set:function(t){this._offset.x=t}},offsetY:{get:function(){return this._offset.y},set:function(t){this._offset.y=t}},posX:{get:function(){return this._scrollX},set:function(t){this._scrollX=this.clampX(t),this.dirty=!0}},posY:{get:function(){return this._scrollY},set:function(t){this._scrollY=this.clampY(t),this.dirty=!0}},scaleX:{get:function(){return this._scale.x},set:function(t){this._scale.x=t,this._zoom=Math.max(this._scale.x,this._scale.y),this.dirty=!0}},scaleY:{get:function(){return this._scale.y},set:function(t){this._scale.y=t,this._zoom=Math.max(this._scale.x,this._scale.y),this.dirty=!0}},trackSpeed:{get:function(){return 1e3*this._trackSpeed},set:function(t){this._trackSpeed=t/1e3}},zoom:{get:function(){return this._zoom},set:function(t){this._scale.x=t,this._scale.y=t,this._zoom=t,this.dirty=!0}},_calculateTrack:function(t){var e=this._trackTarget,n=this.posX,i=this.posY,r=e.x,o=e.y,s=r-n,a=o-i,c=Math.atan2(a,s),u=t*this._trackSpeed;Math.hypot(s,a)<=u?(this.posX=r,this.posY=o,this.tracking=!1):(this.posX+=u*Math.cos(c),this.posY+=u*Math.sin(c))},postUpdate:function(t,e){this.tracking&&this._calculateTrack(e)},preRender:function(t){var e,n,i,r=this.width,o=this.height,s=.5*r,a=.5*o,c=this._scale.x*t,u=this._scale.y*t,l=this.matrix,h=r*this.originX,f=o*this.originY,p=this._follow,d=this.deadzone,v=this.scrollX,g=this.scrollY;if(d&&(e=d,n=this.midPoint.x,i=this.midPoint.y,e.x=n-e.width/2,e.y=i-e.height/2),p){var y=p.x-this.followOffset.x,b=p.y-this.followOffset.y;d?(y<d.x?v=m(v,v-(d.x-y),this.lerp.x):y>d.right&&(v=m(v,v+(y-d.right),this.lerp.x)),b<d.y?g=m(g,g-(d.y-b),this.lerp.y):b>d.bottom&&(g=m(g,g+(b-d.bottom),this.lerp.y))):(v=m(v,y-h,this.lerp.x),g=m(g,b-f,this.lerp.y))}this.useBounds&&(v=this.clampX(v),g=this.clampY(g)),this.roundPixels&&(h=Math.round(h),f=Math.round(f)),this.scrollX=v,this.scrollY=g;var _=v+s,x=g+a;this.midPoint.set(_,x);var w=r/c,k=o/u;this.worldView.setTo(_-w/2,x-k/2,w,k),l.applyITRS(this.x+h,this.y+f,this.rotation,c,u),l.translate(-h-this._offset.x,-f-this._offset.y),this.shakeEffect.preRender()},trackTo:function(t,e){this.tracking=!0,this._trackTarget.setTo(t,e),this.stopFollow()}}),_=new Phaser.Class({Extends:Phaser.Physics.Arcade.Sprite,initialize:function(t,e){var n=e.components,i=n.TextureAnimation,r=this.getAnimPrefix(t,e),o=[];for(var s in i){var a=r+s;if(o.push(a),!t.anims.get(a)){for(var c=i[s],u=[],l=c.cells,f=l.length,p=0;p<f;p+=2)u.push({key:l[p],frame:l[p+1]});t.anims.create({key:a,frames:u,repeat:c.loop?-1:0,frameRate:1/(c.speed||.1)})}}var d=0,v=0,g=o.indexOf(r+"idle")>-1?r+"idle":o[0];if(g){var y=t.anims.get(g);d=y.textureKey,v=y.textureFrame,Phaser.Physics.Arcade.Sprite.call(this,t,e.x,e.y,d,v),this.wasBlocked={none:!0,left:!1,right:!1,up:!1,down:!1},this.playStarting=0,this.setData("id",Phaserfroot.getUniqueId(e.id)),this.setData("animKeyPrefix",r),this.play(g),h.setCommonFeatures(this);var m=n.box;this.body.setSize(m.width,m.height),this.body.setOffset(m.x,m.y),this.name=e.name,this.rotation=isNaN(e.rotation)?0:e.rotation,this.scaleX=isNaN(e.scaleX)?1:e.scaleX,this.scaleY=isNaN(e.scaleY)?1:e.scaleY,this.anchorX=isNaN(e.anchorPointX)?0:e.anchorPointX,this.anchorY=isNaN(e.anchorPointY)?0:e.anchorPointY,t.sys.displayList.add(this),t.sys.updateList.add(this),this.setupPluginComponents(n),this.emit(this.EVENTS.CREATE)}else{console.error("Game object has no animations:",e);var b="Game object has no animations.\n\nSuggestion: locate and remove this object.\n\nCurrent level: "+(t&&t.json&&t.json.name||"Unknown")+"\nObjects beneath this: "+(t&&t.children&&t.children.list&&t.children.list.length||"0/Unknown")+"\nObject type: Game object (graphics)\nX position: "+e.x+"\nY position: "+e.y;Phaserfroot.game.reportError(b)}},getAnimPrefix:function(t,e){return t.scene.key+"-"+e.name+"-"},playFrameNext:function(){this.playFrameRelative(1)},playFramePrevious:function(){this.playFrameRelative(-1)},playFrameRelative:function(t){t=Math.round(t);var e=this.anims.currentAnim;if(!e.paused){var n=Phaser.Math.Wrap(this.playingIndex()+t,0,e.frames.length);this.anims.setCurrentFrame(e.getFrameAt(n))}},playing:function(){if(!this.anims)return null;var t=this.getData("animKeyPrefix")||"";return this.anims.currentAnim.key.replace(t,"")},playingIndex:function(){var t=this.anims.currentFrame,e=this.anims.currentAnim.frames;return t&&e?e.indexOf(t):-1},playMy:function(t){this.playStarting++;var e=this.playing(),n=this.getData("animKeyPrefix");return n&&e!==t&&(this.emit(this.EVENTS.ANIMATION_STOP),this.emit(this.EVENTS.ANIMATION_STOP+"-"+n+e),this.play(n+t)),this.playStarting--,this},playStop:function(){this.anims.pause(),this.emit(this.EVENTS.ANIMATION_STOP),this.emit(this.EVENTS.ANIMATION_STOP+"-"+this.anims.currentAnim.key)}});function x(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var w=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.instances=[],this.pool=[],this.scene=e,this.template=n,this.template.x=this.template.x||0,this.template.y=this.template.y||0,this.template.rotation=this.template.rotation||0,isNaN(this.template.scaleX)&&(this.template.scaleX=1),isNaN(this.template.scaleY)&&(this.template.scaleY=1),isNaN(this.template.anchorPointX)&&(this.template.anchorPointX=this.game.anchorDefault.x),isNaN(this.template.anchorPointY)&&(this.template.anchorPointY=this.game.anchorDefault.y)}var e,n,i;return e=t,(n=[{key:"create",value:function(){var t=new _(this.scene,this.template);return this.instances.push(t),t}},{key:"drain",value:function(){for(var t=Math.round((this.pool.length-128)/32),e=0;e<t;e++){this.pool.pop().destroy()}}},{key:"get",value:function(){return this.pool.length?this.reinstantiate():this.create()}},{key:"kill",value:function(t){t.visible=!1,t.components.removeAll();var e=this.instances.indexOf(t);e>-1?(this.instances.splice(e,1),this.pool.push(t)):console.warn("Instance is not ready, cannot send to pool:",t)}},{key:"reinstantiate",value:function(){var t=this.pool.pop();this.instances.push(t),t.active=!0,t.alpha=1,t.exists=!0,t.visible=!0,t.posX=this.template.x,t.posY=this.template.y,t.bearing=this.template.rotation,t.scaleX=this.template.scaleX,t.scaleY=this.template.scaleY,t.anchorX=this.template.anchorPointX,t.anchorY=this.template.anchorPointY,t.playMy&&t.playMy("idle"),t.setPhysics&&(t.setPhysics(!0),t.body.reset(t.x,t.y)),this.scene.physicsLayersManager.addToLayer(t,0),t.setupPluginComponents(this.template.components);var e=this.scene.getChildren();return this.scene.addChildAfter(t,e[e.length-1]),t}}])&&x(e.prototype,n),i&&x(e,i),t}(),k=new Phaser.Class({Extends:Phaser.Events.EventEmitter,initialize:function(t){Phaser.Events.EventEmitter.call(this),this._key=t,this.isDown=!1,t.setEmitOnRepeat(!0),t.on(this.EVENTS.DOWN,this._onDown,this),t.on(this.EVENTS.UP,this._onUp,this)},EVENTS:{DOWN:"down",HOLD:"hold",UP:"up"},_onDown:function(){this.isDown||this.emit(this.EVENTS.DOWN),this.isDown=!0,this.emit(this.EVENTS.HOLD)},_onUp:function(){this.isDown=!1,this.emit(this.EVENTS.UP)},destroy:function(){this._key.off("down",this._onDown,this),this._key.off("up",this._onDown,this)}});function E(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var C=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.childrenRemovable=[],this._collideInternally=!0,this.dirty=!1,this.layerColliders=[],this.scene=e,this.group=e.add.group()}var e,n,i;return e=t,(n=[{key:"_fCollideCallback",value:function(t,e){t.EVENTS&&t.EVENTS.COLLIDE&&t.emit(t.EVENTS.COLLIDE,e),e.EVENTS&&e.EVENTS.COLLIDE&&e.emit(e.EVENTS.COLLIDE,t)}},{key:"_fProcessCallback",value:function(t,e){if(t instanceof Phaser.Tilemaps.Tile){if(e.body&&e.body.immovable)return!1}else if(e instanceof Phaser.Tilemaps.Tile&&t.body&&t.body.immovable)return!1;return!0}},{key:"add",value:function(t){t.physicsLayer!==this&&(t.physicsLayer&&t.physicsLayer.remove(t),this.group.add(t),t.physicsLayer=this,this._collideInternally&&this.makeCollide(t))}},{key:"destroyChildColliders",value:function(t){this.getColliders(t).forEach(function(t){t.destroy()}),t.colliders=[]}},{key:"getCollider",value:function(t,e){var n=!0,i=!1,r=void 0;try{for(var o,s=t.colliders[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value;if(a.object1===e||a.object2===e)return a}}catch(t){i=!0,r=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}}},{key:"getColliders",value:function(t){return t.colliders}},{key:"hasChild",value:function(t){return this.group.contains(t)}},{key:"makeCollide",value:function(t){if(t.exists){var e=this.scene.physics.add.collider(t,this.group,null,this._fProcessCallback);t.colliders.push(e),e.collideCallback=this._fCollideCallback}}},{key:"remove",value:function(t){this.hasChild(t)&&(t.physicsLayer=null,this.childrenRemovable.push(t),this.destroyChildColliders(t),this.dirty=!0)}},{key:"removeAll",value:function(){var t=this;this.group.children.iterate(function(e){t.remove(e)})}},{key:"setExternalCollision",value:function(t,e){var n=this.scene.physicsLayersManager.layers[t];if(n&&n!==this){var i=this.layerColliders,r=i.length;if(e){for(var o=0;o<r;o++){var s=i[o];if(s.object1===this||s.object2===this)return}var a=this.scene.physics.add.collider(this.group,n.group);a.collideCallback=this._fCollideCallback,i.push(a),n.layerColliders.push(a)}else{for(var c,u=0;u<r;u++){var l=i[u],h=this.group,f=n.group;if(l.object1===h&&l.object2===f){c=l;break}if(l.object2===f&&l.object1===h){c=l;break}}c&&(c.destroy(),i.splice(i.indexOf(c),1),n.layerColliders.splice(n.layerColliders.indexOf(c),1))}}}},{key:"setInternalCollisions",value:function(t){var e=this,n=this.group.children.getArray();if(t){if(this._collideInternally)return;this._collideInternally=!0,n.forEach(function(t){e.makeCollide(t)})}else{if(!this._collideInternally)return;this._collideInternally=!1,n.forEach(function(t){e.destroyChildColliders(t)})}}},{key:"tidy",value:function(){var t=this;this.dirty&&(this.group.children.each(function(e){e.exists&&-1===t.childrenRemovable.indexOf(e)||t.group.children.delete(e)}),this.childrenRemovable.length=0,this.dirty=!1)}}])&&E(e.prototype,n),i&&E(e,i),t}();function S(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var P=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scene=e,this.layers=[]}var e,n,i;return e=t,(n=[{key:"addToLayer",value:function(t,e){this.layers[e]||(this.layers[e]=new C(this.scene)),this.layers[e].add(t)}},{key:"getLayersWithChild",value:function(t){return this.layers.filter(function(e){return e.hasChild(t)})}},{key:"removeLayer",value:function(t){var e=this.layers[t];e&&(e.removeAll(),this.layers.splice(t,1))}}])&&S(e.prototype,n),i&&S(e,i),t}();n(93);function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function j(t,e){return!e||"object"!==T(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function M(t,e){return(M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var I=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=j(this,A(e).call(this,{name:"TextAutomation"})))._completedAll=!0,t._completedChunk=!0,t._continueKeycodes=[],t._enablePages=!1,t._enableRate=!1,t._owner=null,t._text="",t._textChunks=[],t._textChunksIndex=0,t._textCurrent="",t.typewriterInterval=10,t._typewriterSteps=0,t._typewriterTicks=0,t}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M(t,e)}(e,r),n=e,(i=[{key:"assignChunks",value:function(){this._completedAll=!1,this._completedChunk=!1,this._textChunksIndex=0,this._typewriterSteps=0,this._typewriterTicks=0,this._enablePages?this._textChunks=this._text.split("[CONTINUE]"):this._textChunks[0]=this._text}},{key:"_startPage",value:function(){this._started||(this._started=!0,this._enableRate?this._textCurrent="":this._textCurrent=this._textChunks[this._textChunksIndex],this.owner.text=this._textCurrent,this.owner.scene.events.emit("TextAutomationStartPage",this.owner))}},{key:"completeChunk",value:function(){this._completedChunk=!0,this.owner.scene.events.emit("TextAutomationCompletePage",this.owner),this._textChunksIndex===this._textChunks.length-1&&(this._completedAll=!0,this.owner.scene.events.emit("TextAutomationCompleteAll",this.owner))}},{key:"destroy",value:function(){var t=this;this._continueKeycodes.forEach(function(e){t.setContinueKey(e,!1)})}},{key:"preUpdate",value:function(t,e){if(!this._completedAll&&!this._completedChunk){var n=this._textChunks[this._textChunksIndex];this._enableRate?(this._typewriterTicks+=e,this._textCurrent=this.typewrite(n),this._textCurrent.length===n.length&&this.completeChunk()):(this._textCurrent=n,this.completeChunk()),this.owner.text=this._textCurrent,this._started=!1}}},{key:"setContinueKey",value:function(t,e){var n=this._continueKeycodes.indexOf(t);if(e){if(n>-1)return}else if(-1===n)return;this._continueKeycodes.push(t),this.owner.scene.getKey(t)[e?"on":"off"]("up",this.showNextPage,this)}},{key:"showNextPage",value:function(){if(this._completedChunk){if(this._textChunksIndex===this._textChunks.length-1)return;this._completedChunk=!1,this._textChunksIndex++,this._typewriterSteps=0,this._typewriterTicks=0,this._startPage()}else this._typewriterSteps=this._textChunks[this._textChunksIndex].length,this.owner.scene.events.emit("TextAutomationFastForward",this.owner)}},{key:"typewrite",value:function(t){var e=Math.floor(this._typewriterTicks/this.typewriterInterval);return this._typewriterTicks-=e*this.typewriterInterval,this._typewriterSteps+=e,t.slice(0,this._typewriterSteps)}},{key:"continueKeycodes",get:function(){return this._continueKeycodes.slice()}},{key:"enablePages",set:function(t){t=!!t,this._enablePages!==t&&(this._enablePages=t,this.assignChunks())},get:function(){return this._enablePages}},{key:"enableRate",set:function(t){this._enableRate=!!t},get:function(){return this._enableRate}},{key:"owner",set:function(t){if(this._owner!==t){var e=Phaser.GameObjects.Events.DESTROY;this._owner&&this._owner.off(e,this.destroy,this),this._owner=t,this._owner&&this._owner.once(e,this.destroy,this)}},get:function(){return this._owner}},{key:"text",set:function(t){this._text=t,this.assignChunks(),this._startPage()},get:function(){return this._textCurrent}}])&&O(n.prototype,i),o&&O(n,o),e}(),N=new Phaser.Class({Extends:Phaser.Scene,initialize:function(t){Phaser.Scene.call(this,t)},create:function(){this.time.now=this.game.loop.time,this._keys={},this.setupKeyboard(),this.created=!1,this._createSystems(),this.setupCamera(),this.setDebug(this.game.debug),this.populateLevel(this.json),this.created=!0,this.getChildren().forEach(function(t){t.onLevelStart&&t.onLevelStart()}),this._setupUpdateComponents(),this.events.once("shutdown",this._shutdown,this)},_createSystems:function(){this.json=this.cache.json.get(this.scene.key),this.components||(this.components=new s(this)),this.components.add(new y),this.physicsLayersManager=new P(this)},_setupUpdateComponents:function(){var t=this;this.events.on("postupdate",this._updateComponents,this),this.components.create({name:"Child Component Manager",preUpdate:function(e,n){t.getChildren().forEach(function(t){t.components&&t.components.preUpdate(e,n)})},update:function(e,n){t.getChildren().forEach(function(t){t.components&&t.components.update(e,n)})},postUpdate:function(e,n){var i=t.getChildren();if(i.forEach(function(t){t.components&&t.components.postUpdate(e,n)}),t.scene.settings.active){for(var r in i.forEach(function(t){var e=t.wasBlocked;if(e){var n=t.body.blocked;e.left=n.left,e.right=n.right,e.up=n.up,e.down=n.down,e.none=n.none}}),t.children.getChildren().filter(function(t){return t.active&&!1===t.exists}).forEach(function(e){e.active=!1;var n=t.classes[e.name];n?n.kill(e):e.destroy()}),t.classes)t.classes[r].drain();t.physicsLayersManager.layers.forEach(function(t){t.tidy()});var o=t.physics.world.colliders;o.getActive().forEach(function(t){t.active&&!1!==t.object1.exists&&!1!==t.object2.exists||o.remove(t)})}}})},_shutdown:function(){for(var t in this._keys)this._keys[t].destroy&&this._keys[t].destroy(),delete this._keys[t];var e=this.components.getByName("SoundManager");e&&e.length>0&&e[0].stopAll(),this.components.removeAll(),this.events.off("postupdate",this._updateComponents,this)},_updateComponents:function(t,e){this.components.preUpdate(t,e),this.components.update(t,e),this.components.postUpdate(t,e)},update:function(t,e){this.data.set("delta",e)},populateLevel:function(t){var e=this;if(!t||!t.gameObjects){console.error("Level.populateLevel() error: could not find level data.");var n="Could not find level data.\n\nA level file may have failed to load. Please check your network connection and try again.\nCurrent level: ";return n+=t&&t&&t.name||"Unknown (data unavailable)",n+="\nTry using the level number: "+this.scene.key,void this.game.reportError(n)}var i=this.json.color||{r:0,g:0,b:0,a:1};this.cameras.main.setBackgroundColor({r:i.r,g:i.g,b:i.b,a:255*i.a}),this.classes={};var r=[void 0];t.gameObjects.forEach(function(t){"static-image"===t.type&&(r.indexOf(t.name)>-1&&(t.name=Phaser.Math.RND.uuid()),r.push(t.name),e.classes[t.name]=new w(e,t))}),t.gameObjects.forEach(function(t){switch(t.type){case"static-image":e.addSpriteByName(t.name);break;case"text":e.addText(t);break;case"tilemap":e.addTilemap(t);break;default:console.error("Unrecognised game object:",t)}})},setupCamera:function(){var t=this.cameras.main,e=new b(0,0,this.game.config.width,this.game.config.height);e.setScene(this),e.setRoundPixels(!0),this.cameras.addExisting(e,!0),this.cameras.remove(t),this.components.addAt(new r({name:"Camera Manager",postUpdate:function(t,n){e.postUpdate(t,n)}}),0)},setupKeyboard:function(){var t=this;this.input.keyboard.on("keydown",function(e){e&&e.keyCode&&(t._keys.lastPressed=e.keyCode)}),this.input.keyboard.on("keyup",function(e){e&&e.keyCode&&t._keys.lastPressed===e.keyCode&&delete t._keys.lastPressed})},addChildAfter:function(t,e){this.addChildRelativeTo(t,e,1)},addChildBefore:function(t,e){this.addChildRelativeTo(t,e,0)},addChildRelativeTo:function(t,e,n){if(t&&e&&t!==e){var i=this.sys.displayList;i.remove(t,!0);var r=i.getIndex(e);i.addAt(t,r+n,!0)}},addSpriteByName:function(t){var e=this.classes[t];return e?e.get():null},addText:function(t){t=Phaser.Utils.Objects.Merge(t,{anchorX:0,anchorY:0,name:"",rotation:0,scaleX:1,scaleY:1,textAlignment:"left",textColor:"#000000",textFontFamily:"sans-serif",textLineHeight:1,textLineWidth:1/0,textSize:32,textText:"text",textWeight:"normal",x:0,y:0});var e=this.add.text(t.x,t.y,t.textText,{fontFamily:t.textFontFamily,fontSize:t.textSize,color:t.textColor,align:t.textAlignment,wordWrap:{width:t.textLineWidth}});return"center"===t.textAlignment?t.anchorX+=.5:"right"===t.textAlignment&&(t.anchorX+=1),e.setOrigin(t.anchorX,t.anchorY),h.setCommonFeatures(e),e.anchorX=e.displayOriginX,e.anchorY=e.displayOriginY,"center"===t.textAlignment?e.posX-=.5*e.width:"right"===t.textAlignment&&(e.posX-=e.width),e.name=t.name,e.rotation=t.rotation,e.scaleX=t.scaleX,e.scaleY=t.scaleY,e.setLineSpacing(t.textLineHeight),e.setPhysics(!1),e.components.add(new I),t.components&&e.setupPluginComponents(t.components),e.emit(e.EVENTS.CREATE),e},addTilemap:function(t){var e=this.make.tilemap({key:t.jsonId}),n=e.addTilesetImage(e.tilesets[0].name,t.imageId),i=e.createStaticLayer(0,n,t.x,t.y);return h.setCommonFeatures(i),t.components&&t.components.arcadephysics&&(i.collides=!0,this.physicsLayersManager.addToLayer(i,0),e.setCollisionByExclusion([-1],!0)),i},broadcast:function(t,e){this.messageExternal(t,e),this.messageChildren(t,e)},getAllChildrenByName:function(t){return this.classes[t]?this.instanceClass.instances:[]},getAnimPrefix:function(t){return this.scene.key+"-"+t.id+"-"},getChildById:function(t,e){for(var n=this.getChildren(),i=0;i<n.length;i++){var r=n[i];if(r.getData("id")===t)return r}},getChildByName:function(t){var e=this.classes[t];if(e&&e.instances.length)return this.classes[t].instances[0];return null},getChildren:function(){return this.children.getChildren().filter(function(t){return t.exists})},getChildrenByTag:function(t){return this.created?this.getChildren().filter(function(e){return e.tags&&e.tags.has(t)}):[]},getKey:function(t){if(this._keys[t])return this._keys[t];var e=this.input.keyboard.addKey(t),n=new k(e);return this._keys[t]=n,n},getLastChildByName:function(t){var e=this.classes[t];if(e){var n=e.instances;if(n.length)return n[n.length-1]}return null},getRandomChildByName:function(t){var e=this.getAllChildrenByName(t);return 0===e.length?null:Phaser.Math.RND.pick(e)},messageExternal:function(t,e){this.game.broadcast.emitter.emit(this.game.broadcast.MESSAGE,t,e)},messageChildren:function(t,e){var n=this;this.getChildren().forEach(function(i){n.messageInstance(i,t,e)})},messageInstance:function(t,e,n){t&&t.properties&&t.properties.set&&(arguments.length>2&&t.properties.set("_messaging-value_",n),t.properties.set("_messaging_",e))},onSwitch:function(t){this.getChildren().forEach(function(e){e.onLevelSwitch&&e.onLevelSwitch(t)})},setDebug:function(t){var e=this.physics.world;t?e.debugGraphic?e.debugGraphic.visible=!0:e.createDebugGraphic():e.debugGraphic&&(e.debugGraphic.visible=!1)},swapChildren:function(t,e){var n=this.sys.displayList,i=n.getIndex(t),r=n.getIndex(e);i<0||r<0||(n.list[i]=e,n.list[r]=t)}});function L(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var F=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.activeLevel=null,this.game=null,this.levels=[],this.switching=!1}var e,n,i;return e=t,(n=[{key:"add",value:function(t){var e=new N({key:t});this.game.scene.add(t,e,!1),this.levels.push(e)}},{key:"getCurrent",value:function(){return this.game.scene.getScene(this.activeLevel)}},{key:"getLevel",value:function(t){return"number"==typeof t&&(t="level-"+t),this.game.scene.getScene(t)}},{key:"switchTo",value:function(t){var e=this;if(!this.switching){this.switching=!0,"number"==typeof t&&(t="level-"+t);var n=this.getCurrent();n?n.events.once("postupdate",function(){e._switchLevel(t)}):this._switchLevel(t)}}},{key:"_switchLevel",value:function(t){var e=this.getCurrent();e&&e.onSwitch(t),this.switching=!1;var n=this.activeLevel||this.game.scene.scenes[0];try{this.game.scene.stop(n),this.activeLevel=t,this.game.scene.start(t)}catch(e){console.error("LevelManager.switchTo() error","target",t,e);var i="Could not switch to a new level.\n\nPlease try to load this game again. If this does not work, check your level and scripts. Ensure that they are free of errors and are not named with special characters.\n\nTarget level number: "+t;this.game.reportError(i)}}}])&&L(e.prototype,n),i&&L(e,i),t}());function R(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var D=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.buffer=[],this.BUFFER_MAX=10,this.debug=!1,this.diagnosticText=null,this.game=e,this.overlay=null,this.text=null}var e,n,i;return e=t,(n=[{key:"addDebug",value:function(){this.overlay?this.overlay.scene.isActive()||this.overlay.scene.start():(this.overlay=this.game.scene.add("log-buffer-overlay",{}),this.overlay.events.on("ready",this.addText,this),this.overlay.scene.start())}},{key:"addText",value:function(){var t=this,e=this.game.config.width,n=this.game.config.height;this.background=this.overlay.add.rectangle(e/2,n/2,e,n,13373713,.3),this.text=this.overlay.add.text(0,20,"",{align:"right"}),this.renderText(),this.diagnosticText=this.overlay.add.text(10,20,"",{align:"left"}),this.overlay.update=function(e,n){var i=[],r=t.game.levelManager.getCurrent();r&&(i=r.getChildren());var o="Level Members: "+Math.max(i.length-1,0)+"\nFrames per Second: "+(1e3/n).toPrecision(2);t.diagnosticText.setText(o)}}},{key:"log",value:function(t,e){for(e?console.log(e,t):console.log("#Script",t),this.buffer.push(t);this.buffer.length>this.BUFFER_MAX;)this.buffer.shift();this.overlay&&this.overlay.scene.isActive()&&this.renderText()}},{key:"removeDebug",value:function(){this.overlay&&this.overlay.scene.isActive()&&this.overlay.scene.stop()}},{key:"renderText",value:function(){var t=this.buffer.join("\n");this.text.setText(t),this.text.x=this.game.canvas.width-this.text.getBounds().width-10}}])&&R(e.prototype,n),i&&R(e,i),t}(),U=(n(95),n(109),n(50),n(111),new Phaser.Class({Extends:Phaser.Renderer.WebGL.Pipelines.TextureTintPipeline,initialize:function(t){Phaser.Renderer.WebGL.Pipelines.TextureTintPipeline.call(this,{game:t,renderer:t.renderer,fragShader:["precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main(void) {","  vec4 color = texture2D(uMainSampler, outTexCoord);","  float gray = dot(color.rgb, vec3(0.299, 0.587, 0.114));","  gl_FragColor = vec4(vec3(gray), 1.0);","}"].join("\n")})}})),X=new Phaser.Class({Extends:Phaser.Renderer.WebGL.Pipelines.TextureTintPipeline,initialize:function(t){Phaser.Renderer.WebGL.Pipelines.TextureTintPipeline.call(this,{game:t,renderer:t.renderer,fragShader:["precision mediump float;","uniform vec2 resolution;","uniform float tx;","uniform float ty;","uniform float r;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","vec3 makeCircle(vec2 st,vec2 center, vec3 col){","  float d = distance(st,center);","  float pct = smoothstep(r,r+0.1,d);","  return vec3(1.0-pct)*col;","}","void main(void) {","  vec2 st = vec2(gl_FragCoord.x/resolution.x,gl_FragCoord.y/resolution.y);","  vec4 color = texture2D(uMainSampler, outTexCoord);","  gl_FragColor = color*vec4(makeCircle(st,vec2(tx,ty),vec3(1.0)),1.0);","}"].join("\n")})}});function Y(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var G=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=e,this.setupFilter("PhaserfrootCameraGrayscale",U),this.setupFilter("PhaserfrootCameraSpotlight",X)}var e,n,i;return e=t,(n=[{key:"clearCameraFilter",value:function(){this.game.levelManager.getCurrent().cameras.main.clearRenderToTexture()}},{key:"setupFilter",value:function(t,e){this.game.renderer.addPipeline(t,new e(this.game))}}])&&Y(e.prototype,n),i&&Y(e,i),t}(),V={getPreload:function(t){return function(){t?this.game.cache.json.add("game",t):this.load.json("game","game.json"),this.load.atlas("kiwifroot","assets/kiwifrootAtlas.png","assets/kiwifrootAtlas.phaser.json"),this.game.filters=new G(this.game)}},getCreate:function(){var t=this;return function(){var e=this,n=this.cache.json.get("game");this.game.anchorDefault=n.anchorDefault||{x:0,y:0},t.startIndicators(this);var i=function(n){t.updateProgress(e,n,.5,0)},r=function(n){t.updateProgress(e,n,.5,.5)};this.load.on("progress",i);var o=t.loadFiles(this,n);t.loadAndRun(this).then(function(){return e.load.off("progress",i),e.load.on("progress",r),o.textureAtlases.forEach(function(n){var i=e.cache.json.get(n.jsonId),r=t.convertKiwifrootToPhaserAtlas(i);e.load.atlas(n.imageId,n.imageUrl,r)}),t.compileTiles(e,o.spritesheets),t.loadAndRun(e)}).then(function(){t.updateProgress(e,1,1,1),e.cache.json.get("game").levels.forEach(function(t){var e="level-"+t.id;F.add(e)}),e.data.set("loadCompleted",!0),e.data.get("cameraFadedIn")&&t.finishIndicators(e),e.game.log.debug&&e.game.log.addDebug()}).catch(function(t){console.error("Preload error:",t);var n="Game load error.\n\nSomething went wrong during loading. This is probably a missing file. Please check your network connection and try again.\n";t&&t.toString()&&(n+="\nAttempting to interpret error message:\n\n"+t.toString()),e.game.reportError(n)})}},loadFiles:function(t,e){e.levels&&e.levels.length&&e.levels.forEach(function(t){var e="level-"+t.id;if(t.url)this.load.json(e,t.url);else if(t.data)this.game.cache.json.add(e,t.data);else{console.error("Invalid level definition:",t);var n="Invalid level definition.\n\nLevel data should include either `data` or `url`.\n\nLevel number: "+t;this.game.reportError(n)}},t);var n=[],i=[];return e.assets&&e.assets.length&&e.assets.forEach(function(t){switch(t.type){case"image":this.load.image(t.id,t.url);break;case"json":if(t.url)this.load.tilemapTiledJSON(t.id,t.url);else if(t.data)this.game.cache.tilemap.add(t.id,{data:t.data,format:1});else{console.error("Invalid JSON asset definition:",t);var e="Invalid tilemap JSON.\n\nRequires either `data` or `url`.\n\nLevel number: "+level;this.game.reportError(e)}break;case"sound":this.load.audio(t.id,t.url);break;case"spritesheet":if("string"==typeof t.url)this.load.image(t.id,t.url);else if(Array.isArray(t.url)){n.push(t);for(var r=t.id,o=t.url.length,s=0;s<o;s++){var a=t.url[s];this.load.image(r+"-tile-"+s,a)}}else console.error("Invalid spritesheet format",t);break;case"textureatlas":i.push({imageId:t.id,imageUrl:t.imageUrl,jsonId:t.jsonId}),this.load.json(t.jsonId,t.jsonUrl)}},t),{spritesheets:n,textureAtlases:i}},TILE_MARGIN:1,compileTiles:function(t,e){var n=this;e.forEach(function(e){n.compileTileSheet(t,e)});var i=t.game.cache.tilemap,r=V.TILE_MARGIN;i.entries.each(function(t){(t=i.get(t)).data.tilesets.forEach(function(t){if(t&&0===t.margin){var e=Object.keys(t.tileproperties).length,n=Math.ceil(Math.sqrt(e));t.margin=r,t.spacing=2*r,t.padding=t.spacing,t.rows=n,t.cols=n,t.imagewidth=(t.tilewidth+t.spacing)*t.cols,t.imageheight=(t.tileheight+t.spacing)*t.rows}})})},compileTileSheet:function(t,e){var n=t.game,i=V.TILE_MARGIN,r=e.frameWidth,o=e.frameHeight,s=Math.ceil(Math.sqrt(e.url.length)),a=s*(r+2*i),c=a,u=document.createElement("canvas");u.width=a,u.height=c;var l=u.getContext("2d"),h=e.id;e.sheetOffsetX=i,e.sheetOffsetY=i,e.cellOffsetX=2*i,e.cellOffsetY=2*i;for(var f=function(t,e,n){l.drawImage(t,0,0,t.width,t.height,e,n,r,o)},p=e.url.length,d=0;d<p;d++){var v=h+"-tile-"+d,g=n.textures.get(v).getSourceImage(),y=d%s,m=Math.floor(d/s),b=y*(r+2*i)+i,_=m*(o+2*i)+i;f(g,b-1,_),f(g,b+1,_),f(g,b,_-1),f(g,b,_+1),l.clearRect(b,_,r,o),f(g,b,_)}n.textures.addImage(""+h,u)},convertKiwifrootToPhaserAtlas:function(t){var e=[],n={frames:e};return t.cells.forEach(function(t,n){e.push({filename:n,frame:{x:t.x,y:t.y,w:t.w,h:t.h}})}),n},loadAndRun:function(t){return new Promise(function(e,n){t.load.list.size>0?(t.load.once("complete",e),t.load.once("error",n),t.load.start()):e()})},startIndicators:function(t){var e=this,n=(t.add.image(t.game.config.width/2,t.game.config.height/2,"kiwifroot","gamefroot-logo"),t.add.image(0,t.game.config.height,"kiwifroot","loading-bar"));n.setOrigin(0,1),n.scaleX=0,n.scaleFactor=t.game.config.width/n.width,t.data.set("loadingBar",n),t.data.set("cameraFadedIn",!1),t.data.set("loadCompleted",!1),t.cameras.main.fadeFrom(500,0,0,0,!1,function(n,i){i>=1&&(game.scale.refresh(),setTimeout(function(){t.data.set("cameraFadedIn",!0),t.data.get("loadCompleted")&&e.finishIndicators(t)},1e3))})},finishIndicators:function(t){t.cameras.main.fadeOut(500,0,0,0,function(t,e){e>=1&&(game.scale.refresh(),F.switchTo(1))})},updateProgress:function(t,e,n,i){var r=t.data.get("loadingBar");r.scaleX=(e*n+i)*r.scaleFactor}},B=V,K={_plugins:{},register:function(t,e){this._plugins[t]&&console.warn("PluginManager: Overwriting existing plugin",t),this._plugins[t]=e},instantiate:function(t,e,n){var i=this._plugins[t];if(i){var r=e.components;if(!r)return console.error("PluginManager: Could not add plugin to an object without a ComponentManager."),void Phaserfroot.game.reportError("Could not add plugin to an object.\n\nThe object was missing a component manager. Has a script been attached to a non-game object?\n\nPlugin key: "+t+"\nCurrent level: "+(scene&&scene.json&&scene.json.name||"Unknown")+"\nObjects beneath this: "+(scene&&scene.children&&scene.children.list&&scene.children.list.length-1||"0/Unknown")+"\nX position: "+(e&&e.x||"Unknown")+"\nY position: "+(e&&e.y||"Unknown"));var o=new i(e,n);r.add(o)}else{console.error("PluginManager: Could not find plugin",t);var s=e&&e.scene;Phaserfroot.game.reportError("Could not find a plugin for a game object.\n\nPlugin key: "+t+"\nCurrent level: "+(s&&s.json&&s.json.name||"Unknown")+"\nObjects beneath this: "+(s&&s.children&&s.children.list&&s.children.list.length-1||"0/Unknown")+"\nX position: "+(e?e.posX:"Unknown")+"\nY position: "+(e?e.posY:"Unknown"))}}},W=new Phaser.Class({Extends:Phaser.Scene,initialize:function(){Phaser.Scene.call(this,{key:"terminator",active:!1,visible:!1})},create:function(){var t=this;this.game.levelManager.getCurrent().scene.stop(),this.cameras.main.setBackgroundColor({r:16,g:32,b:16,a:255});var e=this.game.userErrorMessage||"An unexpected error occurred. If we'd expected this, it wouldn't be unexpected.";"function"==typeof window.reportError&&window.reportError(e),this.text=this.add.text(10,20,""),this.text.setColor("#aaffaa"),this.text.setWordWrapWidth(this.game.canvas.width-20);!function n(){if(e.length){var i=e.slice(0,2);t.text.setText(t.text.text+i),e=e.slice(2),setTimeout(n,1)}}()}}),H={boot:function(t){var e=this,n={type:Phaser.AUTO,scene:{preload:B.getPreload(t.data),create:B.getCreate()},input:{activePointers:10},physics:{default:"arcade",arcade:{debug:!!t.debug,overlapBias:16,tileBias:48}},dom:{createContainer:!0},fps:{min:15,deltaHistory:32,panicMax:8},render:{clearBeforeRender:!1,powerPreference:"high-performance"}};for(var i in delete t.data,delete t.debug,t)n[i]=t[i];return this.game=new Phaser.Game(n),this.game.debug=!!t.debug,this.game.GLOBAL_VARIABLES={},this.levelManager=F,this.levelManager.game=this.game,this.game.levelManager=this.levelManager,this.game.log=new D(this.game),t.debug&&(this.game.log.debug=!0),this.game.setDebug=function(t){e.game.debug=t;var n=e.levelManager.getCurrent();n&&n.setDebug&&n.setDebug(t),t?e.game.log.addDebug():e.game.log.removeDebug()},this.game.terminator=new W,this.game.scene.add("terminator",this.game.terminator,!1),this.game.reportError=function(t,n,i){e.game.userErrorMessage||(e.game.userErrorMessage=(i||"ERROR")+": "+(n||t),e.game.terminator.scene.start())},this.game.broadcast={MESSAGE:"MESSAGE",emitter:new Phaser.Events.EventEmitter,ingest:function(t,n){var i=e.levelManager.getCurrent();i&&i.messageChildren&&i.messageChildren(t,n)},messageInstance:function(t,n,i){var r=e.levelManager.getCurrent();r&&r.messageInstance&&r.messageInstance(t,n,i)}},this.fixKeyStick(),this.game},_uniqueIdDb:{},_uniqueIdCount:1,fixKeyStick:function(){var t=Phaser.Input.Keyboard.Key.prototype;t.__reset||(t.__reset=t.reset,t.reset=function(){this.isDown&&this.onUp(new KeyboardEvent("onup",{code:this.keyCode})),this.__reset()})},getUniqueId:function(t){if(!t||"null"===t||"undefined"===t){for(t=this._uniqueIdCount;this._uniqueIdDb[""+t];)t++;this._uniqueIdCount=t+1}return t=""+t,this._uniqueIdDb[t]?this.getUniqueId():(this._uniqueIdDb[t]=!0,t)},Component:r,ComponentManager:s,GameObjectTools:h,PluginManager:K};window.Phaserfroot=H}]);
//# sourceMappingURL=phaserfroot.js.map